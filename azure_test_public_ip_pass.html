fred@fred-Virtual-Machine:~/task/shenjie/123/ansible_collections_azure/test/integration/targets/azure_rm_virtualmachine$ ansible-playbook task.yml 

PLAY [for azure_rm_virtualmachine playbook test] ****************************************************************************************

TASK [Gathering Facts] ******************************************************************************************************************
ok: [127.0.0.1]

TASK [create resource group] ************************************************************************************************************
ok: [127.0.0.1]

TASK [include_tasks] ********************************************************************************************************************
included: /home/fred/task/shenjie/123/ansible_collections_azure/test/integration/targets/azure_rm_virtualmachine/tasks/setup.yml for 127.0.0.1

TASK [debug] ****************************************************************************************************************************
ok: [127.0.0.1] => {
    "msg": "UID is eanwion"
}

TASK [SETUP | Create storage account] ***************************************************************************************************
ok: [127.0.0.1]

TASK [SETUP | Create availability set] **************************************************************************************************
ok: [127.0.0.1]

TASK [SETUP | Create virtual network] ***************************************************************************************************
ok: [127.0.0.1]

TASK [SETUP | Create subnet] ************************************************************************************************************
ok: [127.0.0.1]

TASK [Create public ip] *****************************************************************************************************************
ok: [127.0.0.1]

TASK [Create security group] ************************************************************************************************************
changed: [127.0.0.1]

TASK [Create network interface] *********************************************************************************************************
[DEPRECATION WARNING]: Setting ip_configuration flatten is deprecated and will be removed. Using ip_configurations list to define the ip
 configuration. This feature will be removed in version 2.9. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
ok: [127.0.0.1]

TASK [Create virtual machine with a single NIC and no boot diagnostics] *****************************************************************
ok: [127.0.0.1]

TASK [Ensure VM was created properly] ***************************************************************************************************
ok: [127.0.0.1] => {
    "changed": false, 
    "msg": "All assertions passed"
}

TASK [Get facts for virtual machine without boot diagnostics disabled] ******************************************************************
ok: [127.0.0.1]

TASK [Ensure VM facts are correct] ******************************************************************************************************
ok: [127.0.0.1] => {
    "changed": false, 
    "msg": "All assertions passed"
}

TASK [Enable boot diagnostics on an existing VM for the first time without specifying a storage account] ********************************
changed: [127.0.0.1]

TASK [Ensure VM properties are correct] *************************************************************************************************
ok: [127.0.0.1] => {
    "changed": false, 
    "msg": "All assertions passed"
}

TASK [Get facts for virtual machine with boot diagnostics enabled] **********************************************************************
ok: [127.0.0.1]

TASK [Ensure VM facts were returned] ****************************************************************************************************
ok: [127.0.0.1] => {
    "changed": false, 
    "msg": "All assertions passed"
}

TASK [Change the boot diagnostics storage account while enabled] ************************************************************************
changed: [127.0.0.1]

TASK [Disable boot diagnostics and change the storage account at the same time] *********************************************************
changed: [127.0.0.1]

TASK [Ensure boot diagnostics was disabled] *********************************************************************************************
ok: [127.0.0.1] => {
    "changed": false, 
    "msg": "All assertions passed"
}

TASK [Re-enable boot diagnostics on an existing VM where it was previously configured] **************************************************
changed: [127.0.0.1]

TASK [Ensure boot diagnostics was reenabled] ********************************************************************************************
ok: [127.0.0.1] => {
    "changed": false, 
    "msg": "All assertions passed"
}

TASK [Should be idempotent with a single NIC] *******************************************************************************************
ok: [127.0.0.1]

TASK [Ensure nothing changed] ***********************************************************************************************************
ok: [127.0.0.1] => {
    "changed": false, 
    "msg": "All assertions passed"
}

TASK [Resize VM] ************************************************************************************************************************
changed: [127.0.0.1]

TASK [Esure VM was resized] *************************************************************************************************************
ok: [127.0.0.1] => {
    "changed": false, 
    "msg": "All assertions passed"
}

TASK [Delete VM] ************************************************************************************************************************

changed: [127.0.0.1]

TASK [NIC should be gone] ***************************************************************************************************************
ok: [127.0.0.1]

TASK [Ensure NIC was removed] ***********************************************************************************************************
ok: [127.0.0.1] => {
    "changed": false, 
    "msg": "All assertions passed"
}

TASK [Public IP should be gone] *********************************************************************************************************
ok: [127.0.0.1]

TASK [Ensure public IP was removed] *****************************************************************************************************
ok: [127.0.0.1] => {
    "changed": false, 
    "msg": "All assertions passed"
}

TASK [Destroy NIC] **********************************************************************************************************************
ok: [127.0.0.1]

TASK [Destroy security group] ***********************************************************************************************************
changed: [127.0.0.1]

TASK [Destroy subnet] *******************************************************************************************************************
changed: [127.0.0.1]

TASK [Destroy virtual network] **********************************************************************************************************
changed: [127.0.0.1]

TASK [Destroy public ip] ****************************************************************************************************************
ok: [127.0.0.1]

TASK [Destroy availability set] *********************************************************************************************************
changed: [127.0.0.1]

TASK [Destroy storage account] **********************************************************************************************************
changed: [127.0.0.1]

PLAY RECAP ******************************************************************************************************************************
127.0.0.1                  : ok=40   changed=12   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
